\begin{frame}[fragile]{MÃ©todo de la secante}
\lstset{
    language=Python,
    basicstyle=\fontfamily{GeistMono-TLF}\selectfont\tiny,
    keywordstyle=\color{purple}\bfseries,
    commentstyle=\color{green!60!black}\itshape,
    stringstyle=\color{orange!80!black},
    numberstyle=\tiny\color{gray!70},
    identifierstyle=\color{blue!70!black},
    numbers=left,
    numbersep=5pt,
    frame=single,
    frameround=tttt,
    framerule=0.5pt,
    rulecolor=\color{gray!30},
    backgroundcolor=\color{gray!5},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    showstringspaces=false,
    emphstyle=\color{red!80!black}\bfseries,
    emph={def, class, import, from, return, if, for, in, range},
    emphstyle={[2]\color{teal!80!black}},
    emph={[2]{True, False, None}},
}

\begin{lstlisting}
from typing import Callable, TypedDict
import numpy as np

class SecantMethod(TypedDict):
    solution: int
    message: str

def secante(f: Callable[[float], float], x0: float, x1: float,
           delta: float = 1e-5, max_iterations: int = 1000) -> SecantMethod:
    if x1 == x0:
        raise ValueError("Initial guess x0 and x1 must be different")
    
    for i in range(max_iterations):
        df_numeric = (f(x1) - f(x0)) / (x1 - x0)
        x = x1 - f(x1) / df_numeric
        
        if np.abs(f(x)) < delta:
            return {"solution": float(x), 
                   "message": f"Converged after {i+1} iterations"}
        
        x0, x1 = x1, x
    
    return {"solution": float(x), 
           "message": "Max iterations exceeded"}
\end{lstlisting}
\end{frame}